"use strict";(self.webpackChunkspa=self.webpackChunkspa||[]).push([[570],{8570(e,t,i){i.r(t),i.d(t,{default:()=>d});var n=i(5043),s=i(8128),l=i(2097),a=i(9992),r=i(579);const c=(0,a.A)((0,r.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),o=(0,s.Ay)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});function h(e){let{handleOnChange:t}=e;return(0,r.jsxs)(l.A,{component:"label",role:void 0,variant:"contained",tabIndex:-1,startIcon:(0,r.jsx)(c,{}),children:["Cargar archivo",(0,r.jsx)(o,{type:"file",onChange:t,accept:".png, .jpg, .jpeg",multiple:!0})]})}const p=()=>{const[e,t]=(0,n.useState)(null),[i,s]=(0,n.useState)(null),l=/image\/(png|jpg|jpeg)/i;(0,n.useEffect)(()=>{let t,i=!1;return e&&(t=new FileReader,t.onload=e=>{const{result:t}=e.target;t&&!i&&s(t)},t.readAsDataURL(e)),()=>{i=!0,t&&1===t.readyState&&t.abort()}},[e]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"input-group",children:(0,r.jsx)(h,{handleOnChange:e=>{if(e.target.files){if(!e.target.files[0].type.match(l))return void alert("Image mime type is not valid");t(e.target.files[0])}}})}),e&&(0,r.jsxs)("section",{children:["Archivo detalles:",(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:["Name: ",e.name]}),(0,r.jsxs)("li",{children:["Type: ",e.type]}),(0,r.jsxs)("li",{children:["Size: ",e.size," bytes"]})]})]}),e&&(0,r.jsx)("button",{onClick:async()=>{if(e){console.log("Uploading file...");const i=new FormData;i.append("file",e);try{const e=await fetch("http://localhost:3001/api/maestro/perfil",{method:"POST",body:i}),t=await e.json();console.log(t)}catch(t){console.error(t)}}},className:"submit",children:"Seleccionar archivo"}),i&&(0,r.jsx)("p",{className:"img-preview-wrapper",children:(0,r.jsx)("img",{src:i,alt:"preview"})})]})};const d=function(){return(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{children:"Perfil"}),(0,r.jsx)("p",{children:"Ejemplo subir una im\xe1gen."}),(0,r.jsx)(p,{}),(0,r.jsx)("p",{children:"Imagen en el servidor"}),(0,r.jsx)("img",{src:"http://localhost:3001/public/file-1770239658096-586564320.png",alt:"",width:100,height:100})]})}}}]);
//# sourceMappingURL=570.c79e69d4.chunk.js.map